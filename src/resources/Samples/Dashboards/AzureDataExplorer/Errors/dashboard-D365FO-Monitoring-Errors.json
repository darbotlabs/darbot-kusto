{"$schema":"https://dataexplorer.azure.com/static/d/schema/50/dashboard.json","id":"7f76b28d-40d3-4784-92e0-8846879191eb","eTag":"670a9830-3038-4a08-a873-f751c8732e03","schema_version":"50","title":"D365FO-Monitoring-Errors","baseQueries":[],"tiles":[{"id":"8b318973-c302-49c3-a92f-06dd35652d4c","title":"Sum of errors per Execution Mode","visualType":"column","pageId":"54d4ff07-74a9-48e7-b5f3-25db46df8620","layout":{"x":0,"y":0,"width":12,"height":7},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"2c9a039f-f73b-4f79-a329-981fa438ff43"},"usedVariables":["_endTime","_startTime"],"text":"exceptions\n| where timestamp  between (_startTime .. _endTime)\n| extend LegalEntity            = customDimensions.LegalEntity\n    ,   ExecutionMode           = customDimensions.ExecutionMode\n    ,   BatchJobId              = customDimensions.BatchJobId\n    ,   CallStack               = customDimensions.CallStack\n| project [\"Timestamp\"]             = timestamp\n        , [\"outerMessage\"]          = outerMessage\n        , [\"Session ID\"]            = session_Id\n        , [\"User ID\"]               = user_Id\n        , [\"Legal Entity\"]          = LegalEntity\n        , [\"Execution Mode\"]        = tostring(ExecutionMode)\n        , CallStack \n        , [\"Client Type\"]        = client_Type\n        , [\"Client City\"]           = client_City\n        , [\"Client Country\"]        = client_CountryOrRegion\n| summarize [\"Errors\"] = count() by [\"Execution Mode\"]//, bin([\"Timestamp\"],1h)  \n\n\n"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":null,"yColumns":null,"seriesColumns":null,"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"dad00a71-980a-46cd-9777-941acd2b77b6","title":"Sum of errors by Time Span","visualType":"column","pageId":"54d4ff07-74a9-48e7-b5f3-25db46df8620","layout":{"x":12,"y":0,"width":12,"height":7},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"2c9a039f-f73b-4f79-a329-981fa438ff43"},"usedVariables":["_endTime","_startTime","_time_span"],"text":"\nexceptions\n| where timestamp  between (_startTime .. _endTime)\n| extend LegalEntity            = customDimensions.LegalEntity\n    ,   ExecutionMode           = customDimensions.ExecutionMode\n    ,   BatchJobId              = customDimensions.BatchJobId\n    ,   CallStack               = customDimensions.CallStack\n| project [\"Timestamp\"]             = timestamp\n        , [\"outerMessage\"]          = outerMessage\n        , [\"Session ID\"]            = session_Id\n        , [\"User ID\"]               = user_Id\n        , [\"Legal Entity\"]          = LegalEntity\n        , [\"Execution Mode\"]        = tostring(ExecutionMode)\n        , CallStack \n        , [\"Client Type\"]        = client_Type\n        , [\"Client City\"]           = client_City\n        , [\"Client Country\"]        = client_CountryOrRegion\n| summarize [\"Errors\"] = count() by  bin([\"Timestamp\"], totimespan(_time_span)) \n\n\n"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":null,"yColumns":null,"seriesColumns":null,"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"67a1c6ad-2279-4d09-b741-e7970301ec1a","title":"Errors by outer message","visualType":"column","pageId":"54d4ff07-74a9-48e7-b5f3-25db46df8620","layout":{"x":0,"y":7,"width":12,"height":7},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"2c9a039f-f73b-4f79-a329-981fa438ff43"},"usedVariables":["_endTime","_startTime"],"text":"\nexceptions\n| where timestamp  between (_startTime .. _endTime)\n| extend LegalEntity            = customDimensions.LegalEntity\n    ,   ExecutionMode           = customDimensions.ExecutionMode\n    ,   BatchJobId              = customDimensions.BatchJobId\n    ,   CallStack               = customDimensions.CallStack\n| project [\"Timestamp\"]             = timestamp\n        , [\"Outer Message\"]          = outerMessage\n        , [\"Outer Message (short)\"]          = tostring( split(tostring( split(outerMessage, \"\\\\\")[0]), \".\")[0]) //substring( outerMessage,0,50)\n        , [\"Session ID\"]            = session_Id\n        , [\"User ID\"]               = user_Id\n        , [\"Legal Entity\"]          = LegalEntity\n        , [\"Execution Mode\"]        = tostring(ExecutionMode)\n        , CallStack \n        , [\"Client Type\"]        = client_Type\n        , [\"Client City\"]           = client_City\n        , [\"Client Country\"]        = client_CountryOrRegion\n| summarize [\"Errors\"] = count() by [\"Outer Message (short)\"]  // bin([\"Timestamp\"], totimespan(_time_span)) \n\n\n"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":null,"yColumns":null,"seriesColumns":null,"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"ce797f9c-2eda-4d29-a066-9ae1de1717d7","title":"Errors by Legal Entity","visualType":"bar","pageId":"54d4ff07-74a9-48e7-b5f3-25db46df8620","layout":{"x":12,"y":7,"width":12,"height":7},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"2c9a039f-f73b-4f79-a329-981fa438ff43"},"usedVariables":["_endTime","_startTime"],"text":"\nexceptions\n| where timestamp  between (_startTime .. _endTime)\n| extend LegalEntity            = customDimensions.LegalEntity\n    ,   ExecutionMode           = customDimensions.ExecutionMode\n    ,   BatchJobId              = customDimensions.BatchJobId\n    ,   CallStack               = customDimensions.CallStack\n| project [\"Timestamp\"]             = timestamp\n        , [\"Outer Message\"]          = outerMessage\n        , [\"Outer Message (short)\"]          = tostring( split(tostring( split(outerMessage, \"\\\\\")[0]), \".\")[0]) //substring( outerMessage,0,50)\n        , [\"Session ID\"]            = session_Id\n        , [\"User ID\"]               = user_Id\n        , [\"Legal Entity\"]          =toupper( tostring( LegalEntity))\n        , [\"Execution Mode\"]        =  tostring(ExecutionMode)\n        , CallStack \n        , [\"Client Type\"]        = client_Type\n        , [\"Client City\"]           = client_City\n        , [\"Client Country\"]        = client_CountryOrRegion\n| summarize [\"Errors\"] = count() by ['Legal Entity'] , ['Execution Mode'] // bin([\"Timestamp\"], totimespan(_time_span)) \n\n\n"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":null,"yColumns":null,"seriesColumns":null,"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"d8c67cd1-5354-4666-9902-891c60151c58","title":"Errors per user","visualType":"column","pageId":"54d4ff07-74a9-48e7-b5f3-25db46df8620","layout":{"x":0,"y":14,"width":24,"height":7},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"2c9a039f-f73b-4f79-a329-981fa438ff43"},"usedVariables":["_endTime","_startTime"],"text":"\nexceptions\n| where timestamp  between (_startTime .. _endTime)\n| extend LegalEntity            = customDimensions.LegalEntity\n    ,   ExecutionMode           = customDimensions.ExecutionMode\n    ,   BatchJobId              = customDimensions.BatchJobId\n    ,   CallStack               = customDimensions.CallStack\n| project [\"Timestamp\"]             = timestamp\n        , [\"Outer Message\"]          = outerMessage\n        , [\"Outer Message (short)\"]  = tostring( split(tostring( split(outerMessage, \"\\\\\")[0]), \".\")[0]) //substring( outerMessage,0,50)\n        , [\"Session ID\"]            = session_Id\n        , [\"User ID\"]               = user_Id\n        , [\"Legal Entity\"]          =toupper( tostring( LegalEntity))\n        , [\"Execution Mode\"]        =  tostring(ExecutionMode)\n        , CallStack \n        , [\"Client Type\"]        = client_Type\n        , [\"Client City\"]           = client_City\n        , [\"Client Country\"]        = client_CountryOrRegion\n| summarize [\"Errors\"] = count() by [\"User ID\"]    , ['Execution Mode'] // bin([\"Timestamp\"], totimespan(_time_span)) \n\n\n"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":null,"yColumns":null,"seriesColumns":null,"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"f405ecc6-0553-492c-b865-e4e29717ae6c","title":"All errors","visualType":"table","pageId":"54d4ff07-74a9-48e7-b5f3-25db46df8620","layout":{"x":0,"y":21,"width":24,"height":7},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"2c9a039f-f73b-4f79-a329-981fa438ff43"},"usedVariables":["_endTime","_startTime"],"text":"\nexceptions\n| where timestamp  between (_startTime .. _endTime)\n| extend LegalEntity            = customDimensions.LegalEntity\n    ,   ExecutionMode           = customDimensions.ExecutionMode\n    ,   BatchJobId              = customDimensions.BatchJobId\n    ,   CallStack               = customDimensions.CallStack\n| project [\"Timestamp\"]             = timestamp\n        , [\"Outer Message (short)\"]          = tostring( split(tostring( split(outerMessage, \"\\\\\")[0]), \".\")[0]) //substring( outerMessage,0,50)\n        , [\"Session ID\"]            = session_Id\n        , [\"User ID\"]               = user_Id\n        , [\"Legal Entity\"]          =toupper( tostring( LegalEntity))\n        , [\"Execution Mode\"]        =  tostring(ExecutionMode)\n        , [\"Client Type\"]        = client_Type\n        , [\"Client City\"]           = client_City\n        , [\"Client Country\"]        = client_CountryOrRegion\n         , [\"Outer Message\"]          = outerMessage\n          , CallStack \n| order by Timestamp desc \n\n\n"},"visualOptions":{"table__enableRenderLinks":true,"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[]}}],"parameters":[{"kind":"duration","id":"2f9ab838-dea5-47f2-a936-c6bb30dc81ed","displayName":"Time range","description":"","beginVariableName":"_startTime","endVariableName":"_endTime","defaultValue":{"kind":"dynamic","count":1,"unit":"hours"},"showOnPages":{"kind":"all"}},{"kind":"string","id":"6830b1ec-568b-4fb6-a453-1bae2e9744b6","displayName":"Time span","description":"","variableName":"_time_span","selectionType":"scalar","includeAllOption":false,"defaultValue":{"kind":"value","value":"10m"},"dataSource":{"kind":"static","values":[{"displayText":"1 minute","value":"1m"},{"displayText":"10 minutes","value":"10m"},{"displayText":"1 hour","value":"1h"},{"displayText":"3 hours","value":"3h"},{"displayText":"6 hours","value":"6h"},{"displayText":"12 hours","value":"12h"},{"displayText":"1 day","value":"1d"},{"displayText":"1 week","value":"7d"},{"displayText":"2 weeks","value":"14d"}]},"showOnPages":{"kind":"all"}}],"dataSources":[{"id":"2c9a039f-f73b-4f79-a329-981fa438ff43","name":"perfsf_AppInsights","clusterUri":"https://ade.applicationinsights.io/subscriptions/79def5f1-f626-479f-8db5-b1272680adc1/resourcegroups/perfsf_AppInsights_RG/providers/microsoft.insights/components/perfsf_AppInsights","database":"perfsf_AppInsights","kind":"manual-kusto","scopeId":"kusto"}],"pages":[{"name":"Page 1","id":"54d4ff07-74a9-48e7-b5f3-25db46df8620"}]}